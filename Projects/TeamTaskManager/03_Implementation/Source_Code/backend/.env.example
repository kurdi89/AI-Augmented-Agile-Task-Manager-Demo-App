# Team Task Manager Backend Environment Configuration
# Copy this file to .env and fill in your values

# Server Configuration
PORT=5000
NODE_ENV=development

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/team_task_manager"
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=teamtaskmanager
DATABASE_USER=username
DATABASE_PASSWORD=password

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# Email Configuration (for password reset)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@teamtaskmanager.com

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# Redis Configuration (for caching and sessions)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Security Configuration
BCRYPT_SALT_ROUNDS=12
SESSION_SECRET=your-session-secret-key-change-this-in-production
COOKIE_SECRET=your-cookie-secret-key-change-this-in-production
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# Development Configuration
DEBUG=true
VERBOSE_LOGGING=true
ENABLE_CORS=true
TRUST_PROXY=true

# Production Configuration (uncomment for production)
# NODE_ENV=production
# DEBUG=false
# VERBOSE_LOGGING=false
# HTTPS_ONLY=true
# SECURE_COOKIES=true

# External Services Configuration
# SENDGRID_API_KEY=your-sendgrid-api-key
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-s3-bucket-name

# Monitoring and Analytics
# SENTRY_DSN=your-sentry-dsn
# GOOGLE_ANALYTICS_ID=your-ga-id
# MIXPANEL_TOKEN=your-mixpanel-token

# Database Backup Configuration
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_STORAGE_PATH=/backups/

# SSL/TLS Configuration
# SSL_CERT_PATH=/path/to/ssl/cert.pem
# SSL_KEY_PATH=/path/to/ssl/key.pem
# SSL_CA_PATH=/path/to/ssl/ca.pem

# API Documentation
API_DOCS_ENABLED=true
API_DOCS_PATH=/api/docs
SWAGGER_UI_ENABLED=true

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

# Audit Log Configuration
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_LOG_LEVEL=info

# Session Configuration
SESSION_TIMEOUT=3600000
SESSION_CLEANUP_INTERVAL=300000
MAX_CONCURRENT_SESSIONS=5

# Password Policy Configuration
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_HISTORY_COUNT=5

# Account Lockout Configuration
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000
LOCKOUT_RESET_TIME=3600000

# Email Verification Configuration
EMAIL_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_EXPIRE=86400000
EMAIL_RESEND_LIMIT=3
EMAIL_RESEND_WINDOW=3600000

# Password Reset Configuration
PASSWORD_RESET_EXPIRE=3600000
PASSWORD_RESET_LIMIT=5
PASSWORD_RESET_WINDOW=3600000

# Development Tools
PRISMA_STUDIO_PORT=5555
PRISMA_STUDIO_ENABLED=true

# Testing Configuration
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/teamtaskmanager_test?schema=public"
TEST_JWT_SECRET=test-jwt-secret
TEST_SMTP_HOST=localhost
TEST_SMTP_PORT=1025

# Feature Flags
FEATURE_EMAIL_VERIFICATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_SOCIAL_LOGIN=false
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_RATE_LIMITING=true
FEATURE_AUDIT_LOGGING=true 